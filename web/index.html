<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Price Scraper Search</title>
	<style>
		body, html {
			margin: 0;
			padding: 0;
			height: 100%;
			font-family: Arial, Helvetica, sans-serif;
		}
		table {
			border: 1px solid;
		}

		/* Page layout */
		.content {
			display: flex;
			flex-direction: column;
			width: 100%;
			height: 100vh;
			box-sizing: border-box;
			padding: 10px 10px 10px 10px;
			gap: 0.5em;
		}
		.flexrow {
			display: flex;
			width: 100%;
			flex-direction: row;
		}

		/* Filters */
		.filterbox {
			width: 100%;
		}
		label.filterbox {
			font-size: large;
		}
		input.prettyinput, button.prettyinput, span.prettyinput {
			padding: 0.5em 0.5em;
			margin: 0.2em 0.1em;
			display: inline-block;
			border: 1px solid #aaa;
			box-sizing: border-box;
			border-radius: 5px;
		}
		#storefilter > input {
			margin-right: 1em;
		}

		/* Item list */
		.tableheader {
			width: 50%;
			margin-bottom: 0.5em;
		}
		.tableheader > b {
			font-size: large;
			margin-right: 0.5em;
		}
		.itemtable {
			min-height: 25px;
			width: 50%;
			overflow: scroll;
			display:block;
			padding-right: 15px;
		}
		.itemtablebox {
			flex-grow: 1;
			overflow-y: hidden;
		}
		td:nth-child(1) {
			width: 100%;
		}
	</style>
	<script src="js/modules/min/papaparse.min.js"></script>
</head>
<body>
	<div class="content">
		<div class="filterbox">
			<label for="search">Search:</label>
			<input type="text" name="search" id="search" placeholder="Press enter to search" onchange="filter()" class="prettyinput">
			<button onclick="filter()" class="prettyinput">ğŸ” Search</button>
			<button onclick="plot()" class="prettyinput">ğŸ“ˆ Plot picked</button>
			<br>
			<hr>
			<label for="start">Start: </label>
			<input type="date" id="start" class="prettyinput">
			<label for="end">End: </label>
			<input type="date" id="end" class="prettyinput">
			<label for="storefilter">Stores:</label>
			<span id="storefilter" class="prettyinput"></span>
			<hr>
		</div>
		<div class="flexrow">
			<div class="tableheader">
				<b>Picked</b>
				<button onclick="removeAll()" class="prettyinput">ğŸ—‘ï¸ Remove all</button>
			</div>
			<div class="tableheader">
				<b>Filtered</b>
				<button onclick="pickAll()" class="prettyinput">â˜‘ï¸ Add all</button>
			</div>
		</div>
		<div class="flexrow itemtablebox">
			<table id="picked" class="itemtable"></table>
			<table id="filtered" class="itemtable">
		</div>
	</div>
	<script type="module">
        import { plot, filter, removeAll, pickAll } from './js/search.js';
        window.plot = plot;
		window.filter = filter;
		window.removeAll = removeAll;
		window.pickAll = pickAll;
    </script>
</body>
</html>